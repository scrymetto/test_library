<script>
  import { fade } from 'svelte/transition';

  export let onClick;
  export let hasCloseIcon = false;
</script>
<button class='menu__button' transition:fade='{{ duration: 500 }}' on:click={onClick}>
  {#if hasCloseIcon }
    <div class='menu__button-inner'>
      <svg in:fade='{{ duration: 200, delay: 200 }}'
           out:fade='{{ duration: 200 }}'
           xmlns='http://www.w3.org/2000/svg'
           xlink='http://www.w3.org/1999/xlink'
           class={'icon-close'}>
        <use href={'#close'}></use>
      </svg>
    </div>
  {:else }
    <div class='menu__button-inner'>
      <svg in:fade='{{ duration: 200, delay: 200 }}'
           out:fade='{{ duration: 200 }}'
           xmlns='http://www.w3.org/2000/svg'
           xlink='http://www.w3.org/1999/xlink'
           class={'icon-open'}>
        <use href={'#open'}></use>
      </svg>
    </div>
  {/if}
</button>

<svg style='display: none;' xmlns='http://www.w3.org/2000/svg'>
  <symbol id='open'>
    <path
      d='M13.893 1.96936C12.3584 0.696775 10.3328 0 8.18436 0C6.03597 0 4.01034 0.701613 2.47577 1.96936C0.879819 3.29032 0 5.06613 0 6.96774V7.33548C0 7.54839 0.184148 7.72258 0.409218 7.72258H2.86453C3.0896 7.72258 3.27375 7.54839 3.27375 7.33548V6.96774C3.27375 4.83387 5.47841 3.09677 8.18436 3.09677C10.8903 3.09677 13.095 4.83387 13.095 6.96774C13.095 8.47258 11.9696 9.85161 10.2253 10.4855C9.14091 10.8774 8.22017 11.5645 7.56031 12.4645C6.89021 13.3839 6.54238 14.4871 6.54238 15.6048V16.6452C6.54238 16.8581 6.72652 17.0323 6.95159 17.0323H9.4069C9.63197 17.0323 9.81612 16.8581 9.81612 16.6452V15.5468C9.81877 15.077 9.97099 14.619 10.2529 14.2323C10.5349 13.8456 10.9335 13.5482 11.3967 13.379C14.4147 12.2806 16.3636 9.76452 16.3636 6.96774C16.3687 5.06613 15.4889 3.29032 13.893 1.96936ZM6.13827 22.0645C6.13827 22.5778 6.35384 23.0701 6.73756 23.4331C7.12128 23.7961 7.64171 24 8.18436 24C8.72702 24 9.24745 23.7961 9.63117 23.4331C10.0149 23.0701 10.2305 22.5778 10.2305 22.0645C10.2305 21.5512 10.0149 21.0589 9.63117 20.6959C9.24745 20.3329 8.72702 20.129 8.18436 20.129C7.64171 20.129 7.12128 20.3329 6.73756 20.6959C6.35384 21.0589 6.13827 21.5512 6.13827 22.0645Z'
    />
  </symbol>
  <symbol id='close'>
    <path
      d='M17.6464 2.44668C17.8417 2.25142 17.8417 1.93483 17.6464 1.73957L16.2604 0.353553C16.0652 0.158291 15.7486 0.158291 15.5533 0.353553L9 6.90687L2.44668 0.353554C2.25142 0.158291 1.93483 0.158291 1.73957 0.353553L0.353553 1.73957C0.158291 1.93483 0.158291 2.25142 0.353553 2.44668L6.90687 9L0.353554 15.5533C0.158291 15.7486 0.158291 16.0652 0.353554 16.2604L1.73957 17.6464C1.93483 17.8417 2.25142 17.8417 2.44668 17.6464L9 11.0931L15.5533 17.6464C15.7486 17.8417 16.0652 17.8417 16.2604 17.6464L17.6464 16.2604C17.8417 16.0652 17.8417 15.7486 17.6464 15.5533L11.0931 9L17.6464 2.44668Z'
    />
  </symbol>
</svg>
